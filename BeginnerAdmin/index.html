<!DOCTYPE html>

<html>

	<head>
		<meta charset="utf-8">
		<title>后台管理模板</title>
		<meta name="renderer" content="webkit">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="format-detection" content="telephone=no">

		<link rel="stylesheet" href="plugins/layui/css/layui.css" media="all" />
		<link rel="stylesheet" href="css/global.css" media="all">
		<link rel="stylesheet" href="plugins/font-awesome/css/font-awesome.min.css">

	</head>

	<body>
		<div class="layui-layout layui-layout-admin">
			<div class="layui-header header header-demo">
				<div class="layui-main">
					<a class="logo" style="left: 0;" href="http://beginner.zhengjinfan.cn/demo/beginner_admin/">
						<span style="font-size: 22px;">BeginnerAdmin</span>
					</a>
					<ul class="layui-nav">
						<li class="layui-nav-item">
							<a href="javascript:;">清除缓存</a>
						</li>
						<li class="layui-nav-item">
							<a href="#" target="_blank">浏览网站</a>
						</li>
						<li class="layui-nav-item">
							<a href="javascript:;" class="admin-header-user">
								<img src="images/0.jpg" style="width: 40px; height: 40px; border-radius: 100%;" />
								<span>beginner</span>
							</a>
							<dl class="layui-nav-child">
								<dd>
									<a href="javascript:;"><i class="fa fa-user-circle" aria-hidden="true"></i> 个人信息</a>
								</dd>
								<dd>
									<a href="javascript:;"><i class="fa fa-gear" aria-hidden="true"></i> 设置</a>
								</dd>
								<dd>
									<a href="login.html"><i class="fa fa-sign-out" aria-hidden="true"></i> 注销</a>
								</dd>
							</dl>
						</li>
					</ul>
				</div>
			</div>
			<div class="layui-side layui-bg-black">
				<div class="layui-side-scroll">
					<ul class="layui-nav layui-nav-tree admin-nav-tree">
						<li class="layui-nav-item layui-nav-itemed">
							<a href="javascript:;">基本元素</a>
							<dl class="layui-nav-child">
								<dd>
									<a href="javascript:;" data-url="button.html">
										<i class="layui-icon" style="top: 1px; font-size: 18px;">&#xe641;</i>
										<cite>按钮</cite>
									</a>
								</dd>
								<dd>
									<a href="javascript:;" data-url="form.html">
										<i class="layui-icon" style="top: 2px;">&#xe63c;</i>
										<cite>表单</cite>
									</a>
								</dd>
								<dd>
									<a href="javascript:;" data-url="table.html">
										<i class="layui-icon" style="top: 2px;">&#xe63c;</i>
										<cite>表格</cite>
									</a>
								</dd>
								<dd>
									<a href="javascript:;" data-url="nav.html">
										<i class="layui-icon" style="top: 2px; font-size: 18px;">&#xe609;</i>
										<cite>导航</cite>
									</a>
								</dd>
								<dd>
									<a href="javascript:;" data-url="tab.html">
										<i class="layui-icon" style="top: 2px; font-size: 16px;">&#xe62a;</i>
										<cite>Tab选项卡</cite>
									</a>
								</dd>
								<dd>
									<a href="javascript:;" data-url="auxiliar.html">
										<i class="layui-icon" style="top: 2px;">&#xe60c;</i>
										<cite>辅助性元素</cite>
									</a>
								</dd>
							</dl>
						</li>
						<li class="layui-nav-item layui-nav-itemed">
							<a href="javascript:;">官方组件</a>
							<dl class="layui-nav-child">
								<dd>
									<a href="javascript:;" data-url="datatable.html">
										<i class="layui-icon">&#xe62d;</i>
										<cite>Datatable</cite>
									</a>
								</dd>
								<!--<dd>
									<a href="javascript:;" data-url="http://www.layui.com/demo/layer.html">
										<i class="layui-icon" style="top: 3px;">&#xe638;</i><cite>弹出层</cite>
									</a>
								</dd>
								<dd>
									<a href="javascript:;" data-url="http://www.layui.com/demo/layim.html">
										<i class="layui-icon" style="position: relative; top: 3px;">&#xe63a;</i>
										<cite>即时通讯</cite>
									</a>
								</dd>
								<dd>
									<a href="javascript:;" data-url="http://www.layui.com/demo/laydate.html">
										<i class="layui-icon" style="top: 1px;">&#xe637;</i><cite>日期时间选择</cite>
									</a>
								</dd>
								<dd>
									<a href="javascript:;" data-url="http://www.layui.com/demo/laypage.html">
										<i class="layui-icon">&#xe633;</i><cite>多功能分页</cite>
									</a>
								</dd>
								<dd>
									<a href="javascript:;" data-url="http://www.layui.com/demo/laytpl.html">
										<i class="layui-icon">&#xe628;</i><cite>模板引擎</cite>
									</a>
								</dd>
								<dd>
									<a href="javascript:;" data-url="http://www.layui.com/demo/layedit.html">
										<i class="layui-icon">&#xe639;</i>
										<cite>富文本编辑器</cite>
									</a>
								</dd>
								<dd>
									<a href="javascript:;" data-url="http://www.layui.com/demo/upload.html">
										<i class="layui-icon">&#xe62f;</i>
										<cite>文件上传</cite>
									</a>
								</dd>
								<dd>
									<a href="javascript:;" data-url="http://www.layui.com/demo/tree.html">
										<i class="layui-icon">&#xe62e;</i>
										<cite>树形菜单</cite>
									</a>
								</dd>
								<dd>
									<a href="javascript:;" data-url="http://www.layui.com/demo/util.html">
										<i class="layui-icon">&#xe631;</i>
										<cite>工具块</cite>
									</a>
								</dd>
								<dd>
									<a href="javascript:;" data-url="http://www.layui.com/demo/flow.html">
										<i class="layui-icon">&#xe636;</i>
										<cite>流加载</cite>
									</a>
								</dd>
								<dd>
									<a href="javascript:;" data-url="http://www.layui.com/demo/code.html">
										<i class="layui-icon" style="top: 1px;">&#xe635;</i>
										<cite>代码修饰器</cite>
									</a>
								</dd>-->
							</dl>
						</li>
						<li class="layui-nav-item">
							<a href="javascript:;">这是一级导航</a>
						</li>
					</ul>
				</div>
			</div>
			<div class="layui-body" style="bottom: 0;">
				<div class="layui-tab admin-nav-card" lay-filter="admin-tab">
					<ul class="layui-tab-title" id="admin-tab">
						<li class="layui-this">
							<i class="layui-icon" style="top: 2px; font-size: 16px;">&#xe609;</i>
							<cite>控制台</cite>
						</li>
					</ul>
					<div class="layui-tab-content" style="min-height: 150px; padding: 5px 0 0 0;" id="admin-tab-container">
						<div class="layui-tab-item layui-show">
							<iframe src="main.html"></iframe>
						</div>
					</div>
				</div>
			</div>
			<div class="layui-footer footer footer-demo">
				<div class="layui-main">
					<p>2016 &copy;
						<a href="http://beginner.zhengjinfan.cn/demo/beginner_admin/">beginner.zhengjinfan.cn</a> LGPL license
					</p>
				</div>
			</div>
			<div class="site-tree-mobile layui-hide">
				<i class="layui-icon">&#xe602;</i>
			</div>
			<div class="site-mobile-shade"></div>
			<script type="text/javascript" src="plugins/layui/layui.js"></script>
			<script>
				layui.use(['element', 'layer'], function() {
					var element = layui.element(),
						$ = layui.jquery,
						layer = layui.layer;

					//iframe自适应
					$(window).on('resize', function() {
						var $content = $('.admin-nav-card .layui-tab-content');
						$content.height($(this).height() - 147);
						$content.find('iframe').each(function() {
							$(this).height($content.height());
						});
					}).resize();

					//添加tab
					var $tabs = $('#admin-tab');
					var $container = $('#admin-tab-container');
					//绑定 nav 点击事件
					$('ul.admin-nav-tree').find('dd > a').each(function() {
						var $this = $(this);
						//获取设定的url
						var url = $this.data('url');
						if(url !== undefined) {
							$this.on('click', function() {
								var iframe = '<iframe src="' + url + '"></iframe>';
								var aHtml = $this.html();
								var count = 0;
								var tabIndex;
								$tabs.find('li').each(function(i, e) {
									var $cite = $(this).children('cite');
									if($cite.text() === $this.find('cite').text()) {
										count++;
										tabIndex = i;
									};
								});
								//tab不存在
								if(count === 0) {
									//添加删除样式
									aHtml += '<i class="layui-icon layui-unselect layui-tab-close">&#x1006;</i>';
									//添加tab
									element.tabAdd('admin-tab', {
										title: aHtml,
										content: iframe
									});
									//iframe 自适应
									var $content = $('.admin-nav-card .layui-tab-content');
									$content.find('iframe').each(function() {
										$(this).height($content.height());
									});
									//绑定关闭事件
									$tabs = $('#admin-tab');
									var $li = $tabs.find('li');

									$li.eq($li.length - 1).children('i.layui-tab-close').on('click', function() {
										element.tabDelete('admin-tab', $(this).parent('li').index()).init();
									});
									//获取焦点
									element.tabChange('admin-tab', $li.length - 1);

								} else {
									//切换tab
									element.tabChange('admin-tab', tabIndex);
								}
							});
						}
					});

					$('#user').on('click', function() {
						$('#user-item').toggle();
					});

					//手机设备的简单适配
					var treeMobile = $('.site-tree-mobile'),
						shadeMobile = $('.site-mobile-shade');
					treeMobile.on('click', function() {
						$('body').addClass('site-mobile');
					});
					shadeMobile.on('click', function() {
						$('body').removeClass('site-mobile');
					});
				});
			</script>
		</div>
	</body>

</html>